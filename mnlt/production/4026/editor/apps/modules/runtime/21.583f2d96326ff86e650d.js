(function(){var an=document&&document.currentScript&&document.currentScript.src;(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[21],{"6TzK":function(cn,S,t){"use strict";t.r(S),t.d(S,"sendPerformanceMetrics",function(){return ln});var U=t("yXPU"),c=t.n(U),M=t("e0ae"),R=t("fKJ5"),V=t.n(R),j=t("O/PN"),F=t.n(j),H=t("DNwz"),w=t.n(H),J=t("Bscj"),A=t.n(J),a=t("ONNR"),z=t("HFo2"),G=t.n(z);const K="unknown",x=1e-6,f=n=>G()(n)?K:n;function X({device:n=null,connectionType:e=null,connectionSpeed:r=null,viewportWidth:o=null,viewportHeight:l=null,hasCriticalCss:m=null,hasCustomWidgets:g=null,browserName:v=null,browserVersion:h=null,os:p=null,firstVisit:T=null,pageUuid:y=null,serviceWorkerRunning:P=null,siteAlias:N=null,host:O=null,path:E=null,vital:{name:u=null,delta:i=null}}){return{device:n,connectionType:f(e),connectionSpeed:f(r),viewportWidth:o,viewportHeight:l,hasCriticalCss:m,hasCustomWidgets:g,browserName:v,browserVersion:h,os:p,firstVisit:T,pageUuid:y,serviceWorkerRunning:P,siteAlias:N,host:f(O),path:E,[u==null?void 0:u.toLowerCase()]:i||x}}function Y({vital:n}){return Object.assign({_type:"WEBVITAL"},n||{})}var $=t("pRvV"),Q=t.n($),Z=t("duPW"),W=t.n(Z),B=t("zq3N"),b=t("zg8Y");const k=15;function q({apiUrl:n=Object(b.a)("runtimecollector.url")}={}){return function(){var e=c()(function*(r){if(!n)throw new Error("Missing endpoint for runtimecollector");return yield fetch(`${n}/performance/metrics`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)}).catch(o=>{B.c.warn({message:"Error while trying to report Vitals to BI",error:A()(o)?o.toString():JSON.stringify(o),siteAlias:W()("siteAlias",r),pageUrl:W()("_currentPage.pageUrl",window)})})});return function(r){return e.apply(this,arguments)}}()}function _(){return Q()(n=>Promise.resolve().then(()=>B.c.info(n)),k)}const C=w()(null),s=n=>C(n,window),D=n=>!!document.querySelector(n),nn=n=>{const e=F()(n);return A()(e)?null:e},tn=q(),en=_(),rn=150,L=(...n)=>e=>n.reduce((r,o)=>r.then((...l)=>Promise.resolve().then(o.bind(null,...l))),Promise.resolve(e)),on=({name:n,value:e})=>n==="INP"&&e>=Number(w()(rn,'rtCommonProps["feature.flag.runtime.inp.threshold"]',window)),sn=function(){var n=c()(function*(){const e=s("_currentDevice"),r=s("navigator.connection.type"),o=s("navigator.connection.effectiveType"),l=s("Parameters.SiteAlias"),m=s("window.location.host"),g=s("location.pathname"),v=D("#criticalCss"),h=D('[data-element-type="custom_extension"]'),p=s("innerWidth"),T=s("innerHeight"),y=["_currentPage.pageContent.uuid","Parameters.InitialPageUuid","_currentPage.pageID"].map(i=>C(i,window)).filter(Boolean).at(0),{name:P=null,version:N=null,os:O=null}=Object(M.a)(),[E,u]=yield c()(function*(){const i=yield nn(()=>navigator.serviceWorker.getRegistration("/"));return[!(i!=null&&i.active),!!i]})();return{device:e,connectionType:r,connectionSpeed:o,viewportWidth:p,viewportHeight:T,hasCriticalCss:v,hasCustomWidgets:h,browserName:P,browserVersion:N,os:O,firstVisit:E,serviceWorkerRunning:u,pageUuid:y,siteAlias:l,host:m,path:g}});return function(){return n.apply(this,arguments)}}(),I=function(n){return sn().then(V()({vital:n}))};function ln(){return d.apply(this,arguments)}function d(){return d=c()(function*({sendLog:n=!0}={}){const e=[L(I,X,tn),function(){var r=c()(function*(o){if(n&&on(o))return L(I,Y,en)(o)});return function(o){return r.apply(this,arguments)}}()].filter(Boolean);[a.a,a.f,r=>Object(a.d)(r,{durationThreshold:0,reportAllChanges:!0}),a.c,a.e,a.b].forEach(r=>r(o=>{Promise.all(e.map(l=>l(o).catch(console.warn)))}))}),d.apply(this,arguments)}}}])})();
